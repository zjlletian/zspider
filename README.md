ZSpider分布式网站爬虫  开发日志 verison 6.1.0

--------------------- 运行前提 ---------------------

1.运行脚本需要screen与awk工具支持。

2.关于Elasticsearch-php信息：https://github.com/elastic/elasticsearch-php


--------------------- 开发任务 ----------------------

完成关键词搜索web api。

后台web管理服务。

解决部分网站造成内存溢出的错误。


--------------------- 优化任务 ---------------------

使用正则表达式操作字符串。

优化es的文本分析器。

完善特殊网站的规则。

将simple_html_dom替换成效率更高的解析器。


--------------------- 2016-2-24 version 6.1.0 ---------------------

1.优化ACK处理，加入单个任务超时限制。


--------------------- 2016-2-24 version 6.0.2 ---------------------

1.将是否把新连接加入队列的处理逻辑交给队列服务器处理。

2.优化screen输出，优化日志显示。

3.增加错误记录,ack超时超过4次的任务也将判定为错误任务,每10天自动清理错误记录。

4.发生程序致命错误时重启线程。


--------------------- 2016-2-22 version 5.1.2 ---------------------

1.优化href拼接的逻辑。

2.使用ES记录任务处理日志。

3.增加系统错误日志记录功能。

4.预留邮件发送接口配置文件。


--------------------- 2016-2-22 version 5.0.1 ---------------------

1.优化shell提示，将shell放入bin中。


--------------------- 2016-2-22 version 5.0.0 ---------------------

1.将任务队列存储替换成为mysql（数据库结构:/doc/zspider.sql），将队列任务监视独立成为服务。

2.shell优化：将原有shell合并，并增加查看进程状态等功能。

3.增加单个网址解析测试功能。

4.将任务日志记录从TaskManager中移除；使用TaskHandler创建进程与处理任务。


--------------------- 2016-2-18 version 4.0.0 ---------------------

1.自动加载class文件夹下的所有类。

2.将ES的存储与搜索等相关操作独立成为EsOpreator,使TaskManager专注于调度任务。


--------------------- 2016-2-18 version 3.0.1 ---------------------

1.不同的等级使用不同的更新时间。


--------------------- 2016-2-18 version 3.0.0 ---------------------

1.使用shell脚本来管理所有进程。

2.使用多线程执行爬虫任务。


--------------------- 2016-2-18 version 2.0.0 ---------------------

1.增加web管理界面。

2.增加任务日志记录功能。


--------------------- 2016-2-17 version 1.3.0 ---------------------

1.将原来TaskManager中的addNewTask,saveUrlInfo,addUpdateTask,ackTask合并成为submitTask，减少Spider调用与TaskManager的次数。

2.使用config来配置默认起始站点。

3.获取html时，过滤html中无用的标签信息。


--------------------- 2016-2-16 version 1.2.0 ---------------------

1.限制html的大小，避免内存泄漏。

2.使用异步方式将mongo中的数据转储到es中，加快爬虫速度。

3.优化重定向后地址的检查与处理。

4.使用Wathcer来运行队列子进程。


--------------------- 2016-2-15 version 1.0.0 ---------------------

1.优化内存回收。

2.优化UrlAnalyzer中自定义错误的处理。

3.修复curl扩展不能识别301重定向的问题。

4.优化启动方式。


--------------------- 2016-2-14 version 0.9.2 ---------------------

1.增加队列的ack机制，使用子线程管理ack。

2.屏蔽错误的charset。


--------------------- 2016-2-13 version 0.9.1 ---------------------

1.解决由于重定向导致的重复爬取问题。

2.优化shell输出。


--------------------- 2016-2-12 version 0.8.1 ---------------------

1.合并原有updateTask队列与spiderTask队列为taskQueue


--------------------- 2016-2-11 version 0.8.0 ---------------------

1.优化UrlAnalyzer获取charset的方法。

2.优化SpiderTask.php的处理逻辑。
